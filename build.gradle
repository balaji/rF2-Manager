/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
 import org.apache.tools.ant.taskdefs.condition.Os

task yarn {
    def yarn = 'yarn'
    if (Os.isFamily(Os.FAMILY_WINDOWS)) {
        yarn = 'yarn.cmd'
    }
    doLast {
        exec {
            executable yarn
            args '--cwd', 'web', 'build'
        }
        println "Executed!"
    }
}

task build {
    dependsOn ':yarn'
    doLast {
        exec {
            executable 'cargo'
            args 'build'
        }
    }
}

task debug {
    dependsOn ':yarn'
    doLast {
        exec {
            executable 'cargo'
            args 'run'
        }
    }
}